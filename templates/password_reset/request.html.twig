{% extends 'base.html.twig' %}

{% block title %}Mot de passe oublié - Vite & Gourmand{% endblock %}

{% block body %}

<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-md-6 col-lg-5">

            {# Card de réinitialisation #}
            <div class="login-card">

                {# En-tête avec logo #}
                <div class="text-center mb-4">
                    <div class="login-icon mb-3">
                        <i data-feather="key" width="48" height="48"></i>
                    </div>
                    <h1 class="h3 fw-bold mb-2" style="color: var(--primary);">Mot de passe oublié</h1>
                    <p class="text-muted">Entrez votre email pour réinitialiser votre mot de passe</p>
                </div>

                {# Affichage des messages #}
                {% for message in app.flashes('success') %}
                    <div class="alert alert-success d-flex align-items-center mb-4" role="alert">
                        <i data-feather="check-circle" width="20" class="me-2"></i>
                        <div>{{ message }}</div>
                    </div>
                {% endfor %}

                {% for message in app.flashes('error') %}
                    <div class="alert alert-danger d-flex align-items-center mb-4" role="alert">
                        <i data-feather="alert-circle" width="20" class="me-2"></i>
                        <div>{{ message }}</div>
                    </div>
                {% endfor %}

                {# Information #}
                <div class="alert alert-info d-flex align-items-start mb-4" role="alert">
                    <i data-feather="info" width="20" class="me-2 mt-1"></i>
                    <div>
                        <small>
                            Un lien de réinitialisation vous sera envoyé par email.
                            Ce lien sera valable pendant 1 heure.
                        </small>
                    </div>
                </div>

                {# Formulaire #}
                <form method="post">
                    <div class="form-floating mb-3">
                        <input class="form-control"
                               type="email"
                               id="email"
                               name="email"
                               placeholder="nom@exemple.com"
                               required
                               autofocus>
                        <label for="email">
                            <i data-feather="mail" width="16" class="me-1"></i>
                            Adresse email
                        </label>
                    </div>

                    <button class="btn btn-primary w-100 py-3 mb-3" type="submit">
                        <i data-feather="send" width="18" class="me-2"></i>
                        Envoyer le lien de réinitialisation
                    </button>
                </form>

                {# Divider #}
                <div class="divider my-4">
                    <span class="divider-text">ou</span>
                </div>

                {# Lien retour à la connexion #}
                <div class="text-center">
                    <a href="{{ path('app_login') }}" class="text-decoration-none" style="color: var(--primary);">
                        <i data-feather="arrow-left" width="16" class="me-1"></i>
                        Retour à la connexion
                    </a>
                </div>

            </div>

        </div>
    </div>
</div>

{% endblock %}